$(function(){function a(){$(".map").click(function(){var a=$(this).attr("data-target");for(i=0;i<f.length;i++){var b=f[i];b.id==a&&(e=b,d.panTo(b.getPosition()),google.maps.event.trigger(b,"click"))}$("html, body").animate({scrollTop:0},500)});var a=location.hash.substr(2);""!=a&&("map"==a?$("#showMap").click():$("a[href='#!"+a+"']").click())}function b(){$("#mapMarkers .location").each(function(){var a=$(this).find(".name").html();a=a.replace("&amp;","&");var b=parseFloat($(this).find(".lat").html()),c=parseFloat($(this).find(".lng").html()),e=$(this).find(".description").html(),i=$(this).find(".id").html(),j=new google.maps.LatLng(b,c),k=(new google.maps.InfoWindow({}),new InfoBox({content:e,disableAutoPan:!1,maxWidth:280,pixelOffset:new google.maps.Size(-140,-181),boxStyle:{opacity:1},closeBoxURL:h+"close-sfw.gif",closeBoxMargin:"4px 4px 4px 4px",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!1})),l=new google.maps.MarkerImage(h+"map-marker-active.png"),m=new google.maps.MarkerImage(h+"map-marker-default.png"),n=new google.maps.Marker({position:j,map:d,icon:m,html:e,id:i,title:a});google.maps.event.addListener(n,"click",function(){for(var a=0;a<f.length;a++)f[a].setIcon(m);this.setIcon(l)}),google.maps.event.addListener(n,"click",function(){""!=g&&g.close(),g=k,k.open(d,n)}),google.maps.event.addListener(d,"click",function(){k&&(k.close(),n.setIcon(m))}),google.maps.event.addListener(k,"closeclick",function(){n.setIcon(m)}),f.push(n)})}function c(){var a=document.getElementById("map"),c={center:new google.maps.LatLng(42.35978069999999,-71.09360909999998),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};d=new google.maps.Map(a,c),b(),google.maps.event.addListener(d,"idle",function(){jQuery(".gm-style").removeClass("gm-style")})}var d,e,f=new Array,g="",h="/wp-content/themes/libraries/images/";c(),a()});